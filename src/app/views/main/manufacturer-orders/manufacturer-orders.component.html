<div class="content-wrap">
  <!--Top dashboard nav from /components/main/main-nav-->
  <!--the title prop is a string set in the .ts file of this component. An example is "Manufacturer". This will show on the top dashboard nav-->
  <app-main-nav [title]="title"></app-main-nav>

  <!--Main content here-->
  <div class="container">
    <div class="sub-header mt-3">
      <div>
        Sort by
        <select (change)="sort($event)" class="form-control form-control-sm">
            <option value="today" selected>Today</option>
            <option *ngFor="let range of ranges" [value]="[range.value]">{{range.name}}</option>
        </select>
      </div>
    </div>

    <div *ngIf="currentRange === 'today'" class="row justify-content-center mt-5">
      <div *ngIf="currentRange === 'today' && !dayStats" class="col-12">
        <div class="content-loader">
          <span class="__1"></span>
          <span class="__2"></span>
          <span class="__3"></span>
          <span class="__4"></span>
        </div>
      </div>
      <div *ngIf="currentRange === 'today' && dayStats && dayStats.total !== 0" class="col-12">
        <div class="col-sm-6 col-lg-4 my-2">
          <div class="card metric-card">
            <div class="card-body">
                <div class="metric-card-info">
                  <h2 class="metric-count">{{dayStats.total}}</h2>
                  <h5 class="metric-name">Total Orders</h5>
                </div>
            </div>
          </div>
        </div>
        <div class="col-sm-6 col-lg-4 my-2" *ngFor="let stat of dayStats.stats">
          <div class="card metric-card">
            <div class="card-body">
                <div class="metric-card-info">
                  <h2 class="metric-count">{{stat.count}}%</h2>
                  <h5 class="metric-name">{{stat.store}}</h5>
                </div>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="currentRange === 'today' && dayStats && dayStats.total === 0" class="empty-state text-center">
        <img src="../../../../assets/img/empty-data.svg">
        <h5 class="mt-3">No stats</h5>
        <p>No stats were found for this query. Please try another query or clear your filters.</p>
      </div>
    </div>
    <div *ngIf="currentRange === 'week'" class="row justify-content-center mt-5">
      <div *ngIf="currentRange === 'week' && !weekStats" class="col-12">
        <div class="content-loader">
          <span class="__1"></span>
          <span class="__2"></span>
          <span class="__3"></span>
          <span class="__4"></span>
        </div>
      </div>
      <div *ngIf="currentRange === 'week' && weekStats && weekStats.total !== 0" class="col-12">
        <div class="col-sm-6 col-lg-4 my-2">
          <div class="card metric-card">
            <div class="card-body">
                <div class="metric-card-info">
                  <h2 class="metric-count">{{weekStats.total}}</h2>
                  <h5 class="metric-name">Total Orders</h5>
                </div>
            </div>
          </div>
        </div>
        <div class="col-sm-6 col-lg-4 my-2" *ngFor="let stat of weekStats.stats">
          <div class="card metric-card">
            <div class="card-body">
                <div class="metric-card-info">
                  <h2 class="metric-count">{{stat.count}}%</h2>
                  <h5 class="metric-name">{{stat.store}}</h5>
                </div>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="currentRange === 'week' && weekStats && weekStats.total === 0" class="empty-state text-center">
        <img src="../../../../assets/img/empty-data.svg">
        <h5 class="mt-3">No stats</h5>
        <p>No stats were found for this query. Please try another query or clear your filters.</p>
      </div>
    </div>
    <div *ngIf="currentRange === 'month'" class="row justify-content-center mt-5">
      <div *ngIf="currentRange === 'month' && !monthStats" class="col-12">
        <div class="content-loader">
          <span class="__1"></span>
          <span class="__2"></span>
          <span class="__3"></span>
          <span class="__4"></span>
        </div>
      </div>
      <div *ngIf="currentRange === 'month' && monthStats && monthStats.total !== 0" class="col-12">
        <div class="col-sm-6 col-lg-4 my-2">
          <div class="card metric-card">
            <div class="card-body">
                <div class="metric-card-info">
                  <h2 class="metric-count">{{monthStats.total}}</h2>
                  <h5 class="metric-name">Total Orders</h5>
                </div>
            </div>
          </div>
        </div>
        <div class="col-sm-6 col-lg-4 my-2" *ngFor="let stat of monthStats.stats">
          <div class="card metric-card">
            <div class="card-body">
                <div class="metric-card-info">
                  <h2 class="metric-count">{{stat.count}}%</h2>
                  <h5 class="metric-name">{{stat.store}}</h5>
                </div>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="currentRange === 'month' && monthStats && monthStats.total === 0" class="empty-state text-center">
        <img src="../../../../assets/img/empty-data.svg">
        <h5 class="mt-3">No stats</h5>
        <p>No stats were found for this query. Please try another query or clear your filters.</p>
      </div>
    </div>
    <div *ngIf="currentRange === 'year'" class="row justify-content-center mt-5">
      <div *ngIf="currentRange === 'year' && !yearStats" class="col-12">
        <div class="content-loader">
          <span class="__1"></span>
          <span class="__2"></span>
          <span class="__3"></span>
          <span class="__4"></span>
        </div>
      </div>
      <div *ngIf="currentRange === 'year' && yearStats && yearStats.total !== 0" class="col-12">
        <div class="col-sm-6 col-lg-4 my-2">
          <div class="card metric-card">
            <div class="card-body">
                <div class="metric-card-info">
                  <h2 class="metric-count">{{yearStats.total}}</h2>
                  <h5 class="metric-name">Total Orders</h5>
                </div>
            </div>
          </div>
        </div>
        <div class="col-sm-6 col-lg-4 my-2" *ngFor="let stat of yearStats.stats">
          <div class="card metric-card">
            <div class="card-body">
                <div class="metric-card-info">
                  <h2 class="metric-count">{{stat.count}}%</h2>
                  <h5 class="metric-name">{{stat.store}}</h5>
                </div>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="currentRange === 'year' && yearStats && yearStats.total === 0" class="empty-state text-center">
        <img src="../../../../assets/img/empty-data.svg">
        <h5 class="mt-3">No stats</h5>
        <p>No stats were found for this query. Please try another query or clear your filters.</p>
      </div>
    </div>
  </div>
</div>
(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{IY0b:function(l,n,u){"use strict";u.r(n);var e=u("CcnG"),t=function(){return function(){}}(),i=u("pMnS"),s=u("Ip0R"),o=u("gIcY"),r=u("Td92"),a=function(){function l(l,n,u,e,t,i){this.formbuilder=l,this.route=n,this.router=u,this.loadingBar=e,this.service=t,this.toastr=i}return l.prototype.ngOnInit=function(){this.initialiseForm(),this.type=sessionStorage.getItem("type")},l.prototype.initialiseForm=function(){this.emailForm=this.formbuilder.group({email:[null,o.m.compose([o.m.required,o.m.email])]},{updateOn:"submit"})},l.prototype.getErrorMessage=function(){for(var l in this.emailForm.controls)this.emailForm.controls[l].markAsDirty(),this.emailForm.controls[l].updateValueAndValidity()},Object.defineProperty(l.prototype,"email",{get:function(){return this.emailForm.get("email")},enumerable:!0,configurable:!0}),l.prototype.sendEmail=function(l){var n=this,u=l.email,e=sessionStorage.getItem("loanId"),t=sessionStorage.getItem("type");this.emailForm.invalid?this.getErrorMessage():(this.loadingBar.start(),this.loading=!0,this.service.requestLetter(u,e,t).subscribe(function(l){n.loadingBar.stop(),n.loading=!1,"success"===l.status?(n.toastr.success(l.message),n.router.navigate(["/account/dashboard"])):n.toastr.error(l.message)},function(l){n.loadingBar.stop(),n.loading=!1,n.toastr.error("Error connecting to server, please check your internet connection and try again")}))},l}(),b=u("ZYCi"),c=u("/CeA"),d=u("SZbH"),m=e.ob({encapsulation:0,styles:[[""]],data:{}});function p(l){return e.Hb(0,[(l()(),e.qb(0,0,null,null,1,"small",[],null,null,null,null,null)),(l()(),e.Fb(-1,null,[" Please enter your email address "]))],null,null)}function g(l){return e.Hb(0,[(l()(),e.qb(0,0,null,null,1,"small",[],null,null,null,null,null)),(l()(),e.Fb(-1,null,[" Please enter a valid email address "]))],null,null)}function y(l){return e.Hb(0,[(l()(),e.qb(0,0,null,null,4,"div",[["class","formError"]],null,null,null,null,null)),(l()(),e.hb(16777216,null,null,1,null,p)),e.pb(2,16384,null,0,s.l,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.hb(16777216,null,null,1,null,g)),e.pb(4,16384,null,0,s.l,[e.P,e.M],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,2,0,u.email.errors.required),l(n,4,0,u.email.errors.email)},null)}function f(l){return e.Hb(0,[(l()(),e.qb(0,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.qb(1,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.qb(2,0,null,null,37,"div",[["class","container spaceUp"]],null,null,null,null,null)),(l()(),e.qb(3,0,null,null,36,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.qb(4,0,null,null,35,"div",[["class","col-lg-11"]],null,null,null,null,null)),(l()(),e.qb(5,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.qb(6,0,null,null,12,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),e.qb(7,0,null,null,11,"div",[],null,null,null,null,null)),(l()(),e.qb(8,0,null,null,5,"h1",[["class","colorLink"]],null,null,null,null,null)),(l()(),e.qb(9,0,null,null,4,"span",[["class","color1 headFont font4"]],null,null,null,null,null)),(l()(),e.qb(10,0,null,null,3,"b",[],null,null,null,null,null)),(l()(),e.Fb(-1,null,["Letter of "])),(l()(),e.qb(12,0,null,null,1,"span",[["class","text-capitalise"]],null,null,null,null,null)),(l()(),e.Fb(13,null,["",""])),(l()(),e.qb(14,0,null,null,4,"p",[["class","gray"]],null,null,null,null,null)),(l()(),e.Fb(-1,null,["Get your letter of "])),(l()(),e.qb(16,0,null,null,1,"span",[["class","text-capitalise"]],null,null,null,null,null)),(l()(),e.Fb(17,null,["",""])),(l()(),e.Fb(-1,null,[" and send to any preferred email address"])),(l()(),e.qb(19,0,null,null,20,"div",[["class","col-lg-6 panel panel-default mt2 mb5"]],null,null,null,null,null)),(l()(),e.qb(20,0,null,null,19,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),e.qb(21,0,null,null,18,"div",[],null,null,null,null,null)),(l()(),e.qb(22,0,null,null,1,"h4",[["class","gray"]],null,null,null,null,null)),(l()(),e.Fb(-1,null,["Enter your email address"])),(l()(),e.qb(24,0,null,null,15,"form",[["class","mt2"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,u){var t=!0,i=l.component;return"submit"===n&&(t=!1!==e.yb(l,26).onSubmit(u)&&t),"reset"===n&&(t=!1!==e.yb(l,26).onReset()&&t),"ngSubmit"===n&&(t=!1!==i.sendEmail(i.emailForm.value)&&t),t},null,null)),e.pb(25,16384,null,0,o.o,[],null,null),e.pb(26,540672,null,0,o.f,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Cb(2048,null,o.b,null,[o.f]),e.pb(28,16384,null,0,o.k,[[4,o.b]],null,null),(l()(),e.qb(29,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.qb(30,0,null,null,5,"input",[["class","textbox2"],["formControlName","email"],["placeholder","Email"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0;return"input"===n&&(t=!1!==e.yb(l,31)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.yb(l,31).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.yb(l,31)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.yb(l,31)._compositionEnd(u.target.value)&&t),t},null,null)),e.pb(31,16384,null,0,o.c,[e.E,e.k,[2,o.a]],null,null),e.Cb(1024,null,o.h,function(l){return[l]},[o.c]),e.pb(33,671744,null,0,o.e,[[3,o.b],[8,null],[8,null],[6,o.h],[2,o.q]],{name:[0,"name"]},null),e.Cb(2048,null,o.i,null,[o.e]),e.pb(35,16384,null,0,o.j,[[4,o.i]],null,null),(l()(),e.hb(16777216,null,null,1,null,y)),e.pb(37,16384,null,0,s.l,[e.P,e.M],{ngIf:[0,"ngIf"]},null),(l()(),e.qb(38,0,null,null,1,"button",[["class","btn btn-lg bg-pry text-white"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(l()(),e.Fb(-1,null,["Send"]))],function(l,n){var u=n.component;l(n,26,0,u.emailForm),l(n,33,0,"email"),l(n,37,0,u.email.invalid&&(u.email.dirty||u.email.touched))},function(l,n){var u=n.component;l(n,13,0,"indebtedness"===u.type?u.type:"non-indebtedness"),l(n,17,0,"indebtedness"===u.type?u.type:"non-indebtedness"),l(n,24,0,e.yb(n,28).ngClassUntouched,e.yb(n,28).ngClassTouched,e.yb(n,28).ngClassPristine,e.yb(n,28).ngClassDirty,e.yb(n,28).ngClassValid,e.yb(n,28).ngClassInvalid,e.yb(n,28).ngClassPending),l(n,30,0,e.yb(n,35).ngClassUntouched,e.yb(n,35).ngClassTouched,e.yb(n,35).ngClassPristine,e.yb(n,35).ngClassDirty,e.yb(n,35).ngClassValid,e.yb(n,35).ngClassInvalid,e.yb(n,35).ngClassPending),l(n,38,0,u.loading)})}function h(l){return e.Hb(0,[(l()(),e.qb(0,0,null,null,1,"app-request-letter",[],null,null,null,f,m)),e.pb(1,114688,null,0,a,[o.d,b.a,b.k,c.c,r.a,d.j],null,null)],function(l,n){l(n,1,0)},null)}var v=e.mb("app-request-letter",a,h,{},{},[]),q=function(){return function(){}}();u.d(n,"RequestLetterModuleNgFactory",function(){return C});var C=e.nb(t,[],function(l){return e.wb([e.xb(512,e.j,e.cb,[[8,[i.a,v]],[3,e.j],e.y]),e.xb(4608,s.n,s.m,[e.v,[2,s.u]]),e.xb(4608,o.p,o.p,[]),e.xb(4608,o.d,o.d,[]),e.xb(1073742336,s.c,s.c,[]),e.xb(1073742336,b.n,b.n,[[2,b.t],[2,b.k]]),e.xb(1073742336,q,q,[]),e.xb(1073742336,o.n,o.n,[]),e.xb(1073742336,o.g,o.g,[]),e.xb(1073742336,o.l,o.l,[]),e.xb(1073742336,t,t,[]),e.xb(1024,b.i,function(){return[[{path:"",component:a}]]},[])])})}}]);